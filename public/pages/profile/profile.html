<p>{{errorMessage}}</p>

<div ng-show="profileUser" class="profile-sidebar">
	<h1>{{profileUser.username}}</h1>
	<div class="following-info">
		<hr/>
		<div id="collapseLink" data-toggle="collapse" data-target="#followingCollapse" aria-expanded="false" aria-controls="followingCollapse">
		 	Following 
		 	<span class="number-following">({{(profileUser.following).length}})</span>
		 	<span ng-show="(profileUser.following).length" class="fa fa-chevron-up" />
		</div>
		<div class="collapse" id="followingCollapse" ng-show="(profileUser.following).length">
		  	<ul>
		    	<li ng-repeat="followedUser in profileUser.following">
					<a ng-attr-href="#/profile/{{followedUser}}">{{followedUser}}</a>
				</li>
		  	</ul>
		</div>
	</div>
	<button class="btn btn-primary follow-button" ng-show="showFollow" ng-click="follow()">
		<span class="fa fa-user-plus"></span>
		Follow
	</button>
	<button class="btn btn-default follow-button" ng-show="showUnfollow" ng-click="unfollow()">
		<span class="fa fa-user-times"></span>
		Unfollow
	</button>
</div>
<div ng-show="profileUser" class="profile-reviews">
	<h2 ng-show="profileUser.reviews">Reviews</h2>
	<div class="row" ng-show="profileUser.reviews">
	    <div class="col-md-6" ng-repeat-start="review in profileUser.reviews">
	    	<div class="thumbnail">
	    		<div class="caption">
			    	<a ng-attr-href="#/recipe/{{review.recipeId}}"><h3>{{review.recipeName}}</h3></a>
		      		<p>{{review.text}}</p>
		      		<hr/>
		      		<span ng-bind-html="$parent.trust($parent.setRating(review.rating))" />
	      		</div>
	    	</div>
	    </div>
	    <div ng-repeat-end=""></div>
	</div>
	<p class="no-reviews-message" ng-show="!(profileUser.reviews)">{{profileUser.username}} hasn't written any reviews.</p>
</div>